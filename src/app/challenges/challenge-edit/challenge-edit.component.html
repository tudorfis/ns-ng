<ns-action-bar
  [title]="isCreating ? 'Replace Challenge' : 'Edit Challenge'"
  [hasMenu]="false"
></ns-action-bar>
<FlexboxLayout class="form" marginTop="30">
  <StackLayout class="input-field">
    <Label
      class="label"
      text="Challenge Title:"
      [ngClass]="{ invalid: !titleCtrl.valid && titleCtrl.touched }"
    ></Label>
    <TextField
      class="input"
      returnKeyType="next"
      required
      [(ngModel)]="title"
      #titleCtrl="ngModel"
    ></TextField>
    <Label
      *ngIf="!titleCtrl.valid && titleCtrl.touched"
      text="*Please enter a valid title"
      color="red"
    ></Label>
  </StackLayout>
  <StackLayout class="input-field">
    <Label
      class="label"
      text="Challenge Title:"
      [ngClass]="{ invalid: !descriptionCtrl.valid && descriptionCtrl.touched }"
    ></Label>
    <TextView
      class="input"
      returnKeyType="done"
      required
      [(ngModel)]="description"
      #descriptionCtrl="ngModel"
    ></TextView>
    <Label
      *ngIf="!descriptionCtrl.valid && descriptionCtrl.touched"
      text="*Please enter a valid description"
      color="red"
    ></Label>
  </StackLayout>
  <Button
    class="-primary"
    width="80%"
    [text]="isCreating ? 'Create New Challenge' : 'Modify Existing Challenge'"
    [isEnabled]="titleCtrl.valid && descriptionCtrl.valid"
    (tap)="onSubmit(titleCtrl.value, descriptionCtrl.value)"
  ></Button>
  <Label *ngIf="isCreating && challengeExists" class="text-center" color="red" text="IMPORTANT: This will reset existing progress & restart challenge"></Label>
</FlexboxLayout>
